<div class="columnas2">
 <figure>
  <img class="med" src="/img/m07excepciones/try-catch-finally.svg"
    alt="Diagrama de try-catch-finally.">
 </figure>
 <figure>
  <img class="med" src="/img/m07excepciones/try-error-catch-finally.svg"
    alt="Diagrama de try-catch-finally con error.">
 </figure>
</div>
<div class="lectura">
 <ul>
  <li>
   <p>
    Es una combinación de las 2 anteriores. Siempre restablece el fujo normal y
    siempre se ejecutan las
    <i>instrucciones que siempre se ejecutan</i>
    de la cláusula
    <code class="language-javascript">finally</code>
   </p>
  </li>
  <li>
   <p>
    Si llega al final de las llaves de
    <code class="language-javascript">try</code>
    sin lanzar ninguna excepción, se hace lo siguiente:
   </p>
   <ul>
    <li>
     <p>
      La cláusula
      <code class="language-javascript">catch</code>
      y las
      <i>instrucciones para procesar la excepción</i>
      no se ejecutan.
     </p>
    </li>
    <li>
     <p>
      Continua con las
      <i>instrucciones que siempre se ejecutan</i>
      de la cláusula
      <code class="language-javascript">finally</code>.
     </p>
    </li>
    <li>
     <p>
      Continua con las instrucciones que vengan después de la estructura
      completa
      <code class="language-javascript">try-catch-finally</code>.
     </p>
    </li>
   </ul>
  </li>
  <li>
   <p>
    Si se lanza una excepción dentro de las llaves de
    <code class="language-javascript">try</code>,
    se hace lo siguiente:
   </p>
   <ul>
    <li>
     <p>
      Las restantes instrucciones hasta cerrar llaves no se ejecutan.
     </p>
    </li>
    <li>
     <p>
      Se atrapa la excepción y se pasa como parámetro a la cláusula
      <code class="language-javascript">catch</code>.
     </p>
    </li>
    <li>
     <p>
      Se ejecutan las
      <i>instrucciones para procesar la excepción</i>.
      y el flujo normal se restablece.
     </p>
    </li>
    <li>
     <p>
      Continua con las
      <i>instrucciones que siempre se ejecutan</i>
      de la cláusula
      <code class="language-javascript">finally</code>.
     </p>
    </li>
    <li>
     <p>
      Continua con las instrucciones que vengan después de la estructura
      completa
      <code class="language-javascript">try-catch-finally</code>.
     </p>
    </li>
   </ul>
  </li>
 </ul>
</div>
<section>
 <h1>Ejemplo</h1>
 <div class="horizontal">
  <muestra-codigo>
   <div>
    <div><span style="color: #af00db;">try</span> {</div>
    <div>&nbsp;<span style="color: #af00db;">throw</span> <span
       style="color: #0000ff;">new</span> <span
       style="color: #267f99;">Error</span>(<span
       style="color: #a31515;">"Ouch"</span>)</div>
    <div>} <span style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>) {</div>
    <div>&nbsp;<span style="color: #001080;">console</span>.</div>
    <div>&nbsp; <span style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"Restablece"</span>, <span
       style="color: #001080;">e</span>.<span
       style="color: #001080;">message</span>)</div>
    <div>} <span style="color: #af00db;">finally</span> {</div>
    <div>&nbsp;<span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"finally se ejecuta"</span>)</div>
    <div>}</div>
    <div><span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"Esto se realiza"</span>)</div>
    <div><span style="color: #af00db;">try</span> {</div>
    <div>&nbsp;<span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"Try exitoso."</span>)</div>
    <div>} <span style="color: #af00db;">catch</span> (<span
       style="color: #001080;">e</span>) {</div>
    <div>&nbsp;<span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"catch no se hace"</span>)</div>
    <div>} <span style="color: #af00db;">finally</span> {</div>
    <div>&nbsp;<span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"finally se hace"</span>)</div>
    <div>}</div>
    <div><span style="color: #001080;">console</span>.<span
       style="color: #795e26;">log</span>(<span
       style="color: #a31515;">"Esto se hace"</span>)</div>
   </div>
  </muestra-codigo>
  <section>
   <h1>Salida</h1>
   <pre><samp>Restablece Ouch
finally se ejecuta
Esto se realiza
Try exitoso.
finally se hace
Esto se hace</samp></pre>
  </section>
 </div>
 <div class="noPrint lectura">
  <p>
   <a href="https://pythontutor.com/javascript.html#code=try%20%7B%0A%20throw%20new%20Error%28%22Ouch%22%29%0A%7D%20catch%20%28e%29%20%7B%0A%20console.%0A%20%20log%28%22Restablece%22,%20e.message%29%0A%7D%20finally%20%7B%0A%20console.log%28%22finally%20se%20ejecuta%22%29%0A%7D%0Aconsole.log%28%22Esto%20se%20realiza%22%29%0Atry%20%7B%0A%20console.log%28%22Try%20exitoso.%22%29%0A%7D%20catch%20%28e%29%20%7B%0A%20console.log%28%22catch%20no%20se%20hace%22%29%0A%7D%20finally%20%7B%0A%20console.log%28%22finally%20se%20hace%22%29%0A%7D%0Aconsole.log%28%22Esto%20se%20hace%22%29&curInstr=0&heapPrimitives=nevernest&mode=display&origin=opt-frontend.js&py=js&rawInputLstJSON=%5B%5D"
     target="_blank" rel="noopener">Depúralo en JavaScript Tutor.</a>
  </p>
 </div>
</section>